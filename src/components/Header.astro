---

---

<header class="">

  <div class="header__menu-button">
    <div class="floating"></div>
    <button>
      <svg width="20" height="20" viewBox="0 0 32 24" aria-hidden="true">
        <rect x="0" y="2" width="32" height="4" rx="2"/>
        <rect x="0" y="10" width="32" height="4" rx="2"/>
        <rect x="0" y="18" width="32" height="4" rx="2"/>
      </svg>
    </button>
  </div>
  <nav class="hidden">
    <a href="#home">Home</a>
    <a href="#about">About</a>
    <a href="#projects">Projects</a>
    <a href="#contact">Contact</a>
    <a href="#">Tools</a>
  </nav>

</header>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const menuContainer = document.querySelector('.header__menu-button');
  const menuButton = menuContainer.querySelector('button');

  let mouseX = 0;
  let mouseY = 0;
  let btnX = 0;
  let btnY = 0;

  const speed = 0.12;
  let isHovering = false;

  menuContainer.addEventListener('mouseenter', () => {
    isHovering = true;
  });

  menuContainer.addEventListener('mouseleave', () => {
    isHovering = false;
    mouseX = 0;
    mouseY = 0;
  });

  menuContainer.addEventListener('mousemove', (e) => {
    const rect = menuContainer.getBoundingClientRect();

    // mouse position relative to container center
    mouseX = e.clientX - rect.left - rect.width / 2;
    mouseY = e.clientY - rect.top - rect.height / 2;
  });

  function animate() {
    btnX += (mouseX - btnX) * speed;
    btnY += (mouseY - btnY) * speed;

    if (isHovering) {
      menuButton.style.transform =
        `translate(calc(-50% + ${btnX}px), calc(-50% + ${btnY}px))`;
    } else {
      // smoothly return to center
      btnX *= 0.85;
      btnY *= 0.85;
      menuButton.style.transform =
        `translate(calc(-50% + ${btnX}px), calc(-50% + ${btnY}px))`;
    }

    requestAnimationFrame(animate);
  }

  animate();
});
</script>

<style>
  header{
    /* position: fixed;
    top: 2rem;
    background: transparent; */
    /* backdrop-filter: blur(8px); */
    /* z-index: 10;
    left: 2rem;
    width: calc(100% - (2rem * 2)); */
  }
  .header__menu-button{
    display: inline-flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    position: fixed;
    top: 4rem;
    right: 4rem;
    left: auto;
    bottom: auto;
    aspect-ratio: 1;
    background: transparent;
    border-radius: 100%;
    z-index: 20;
  }
  .header__menu-button .floating{
    width: 44px;
    height: 44px;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) scale(1);
    background: rgba(255,255,255,0.35);
    z-index: 1;
    border-radius: 100%;
    transition: transform 0.6s ease;
  }
  .header__menu-button:hover .floating{
    transform: translate(-50%, -50%) scale(9);
    transition: transform 0.3s ease;
  }
  .header__menu-button button{
    width: 54px;
    height: 54px;
    padding: 0.75rem;
    line-height: 0;
    aspect-ratio: 1 / 1;
    border: 0;
    border-radius: 100%;
    width: auto;
    transition: all 0.1s ease;
    cursor: pointer;
    z-index: 2;
    position: relative;

    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    /* pointer-events: none; */
  }
  .header__menu-button:hover button{
    transition: all 0.02s ease;
  }
  .header__menu-button button:hover{
    transform: scale(1.2);
  }
  
  header nav{
    margin: auto;
    padding: 1rem;
    display: flex;
    gap: 1.5rem;
    text-align: center;
    justify-content: center;
    padding-top: 2rem;
    transition: opacity 0.3s ease, transform 0.3s ease;
    transform: translateY(0px);
    visibility: visible;

    display: inline-flex;
    padding: 1rem;
    flex-direction: column;
    gap: 1rem;
    text-align: right;
    align-items: flex-end;
    position: fixed;
    right: 2rem;
    top: 50%;
    transform: translateY(-50%);

  }
  /* header nav.hiding {
    opacity: 0;
    visibility: visible;
    transform: translateY(12px);
    transition: opacity 0.3s ease, transform 0.3s 0.3s ease;
  } */
  /* header nav.hidden {
    opacity: 0;
    visibility: hidden;
  } */
  header a {
    font-family: var(--font-button);
    color: var(--light);
    text-decoration: none;
    font-weight: 500;
  }
  header a:hover {
    color: var(--accent);
  }
</style>